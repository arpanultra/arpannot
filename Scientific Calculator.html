<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Scientific Calculator</title>
<style>
  body{display:flex;justify-content:center;align-items:center;height:100vh;background:#eef2f3;font-family:sans-serif;}
  .calculator{background:#fff;padding:20px;border-radius:15px;box-shadow:0 5px 15px rgba(0,0,0,0.2);width:350px;}
  #display{width:100%;height:60px;font-size:1.6rem;padding:10px;text-align:right;border:2px solid #ccc;border-radius:10px;box-sizing:border-box;}
  .row{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;margin-top:10px;}
  button{padding:15px;font-size:1rem;border:none;border-radius:8px;background:#f0f0f0;cursor:pointer;}
  button:hover{background:#ddd;}
  .equal{grid-column:span 2;background:#4CAF50;color:#fff;}
</style>
</head>
<body>
<div class="calculator">
  <input type="text" id="display" readonly>
  <div class="row">
    <button onclick="clearDisplay()">C</button>
    <button id="degRad" onclick="toggleDeg()">DEG</button>
    <button onclick="pressOperator('^2')">x²</button>
    <button onclick="pressOperator('^')">x^y</button>
    <button onclick="pressOperator('√')">√</button>
  </div>
  <div class="row">
    <button onclick="pressNumber('7')">7</button>
    <button onclick="pressNumber('8')">8</button>
    <button onclick="pressNumber('9')">9</button>
    <button onclick="pressOperator('/')">÷</button>
    <button onclick="pressNumber('π')">π</button>
  </div>
  <div class="row">
    <button onclick="pressNumber('4')">4</button>
    <button onclick="pressNumber('5')">5</button>
    <button onclick="pressNumber('6')">6</button>
    <button onclick="pressOperator('*')">×</button>
    <button onclick="pressNumber('e')">e</button>
  </div>
  <div class="row">
    <button onclick="pressNumber('1')">1</button>
    <button onclick="pressNumber('2')">2</button>
    <button onclick="pressNumber('3')">3</button>
    <button onclick="pressOperator('-')">−</button>
    <button onclick="pressFunction('sin')">sin</button>
  </div>
  <div class="row">
    <button onclick="pressNumber('0')">0</button>
    <button onclick="pressNumber('.')">.</button>
    <button onclick="pressOperator('+')">+</button>
    <button class="equal" onclick="calculate()">=</button>
    <button onclick="pressFunction('cos')">cos</button>
  </div>
  <div class="row">
    <button onclick="pressFunction('tan')">tan</button>
    <button onclick="pressFunction('log')">log</button>
    <button onclick="pressOperator('%')">%</button>
    <button onclick="pressOperator('(')">(</button>
    <button onclick="pressOperator(')')">)</button>
  </div>
</div>

<script>
let display = document.getElementById('display');
let expr = '';
let DEG = true;

function clearDisplay() {
  display.value = '';
  expr = '';
}

function toggleDeg() {
  DEG = !DEG;
  document.getElementById('degRad').innerText = DEG ? 'DEG' : 'RAD';
}

function pressNumber(n) {
  display.value += n;
  expr += n;
}

function pressOperator(op) {
  display.value += op;
  expr += op;
}

function pressFunction(fn) {
  display.value += fn + '(';
  expr += fn + '(';
}

function calculate() {
  try {
    let e = expr;
    // replace symbols with JS
    e = e.replace(/π/g,'Math.PI').replace(/e/g,'Math.E').replace(/√/g,'Math.sqrt');

    // replace functions
    e = e.replace(/sin\(/g, DEG ? 'Math.sin((Math.PI/180)*(' : 'Math.sin(');
    e = e.replace(/cos\(/g, DEG ? 'Math.cos((Math.PI/180)*(' : 'Math.cos(');
    e = e.replace(/tan\(/g, DEG ? 'Math.tan((Math.PI/180)*(' : 'Math.tan(');
    e = e.replace(/log\(/g, 'Math.log10(');
    e = e.replace(/\^/g,'**');
    e = e.replace(/%/g,'/100');

    let result = eval(e);
    display.value = result;
    expr = String(result);
  } catch {
    display.value = 'Error';
    expr = '';
  }
}
</script>
</body>
</html>
